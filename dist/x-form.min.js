!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.Dialog=t(require("react"),require("react-dom")):e.Dialog=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(1),i=r(o);e.exports=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){var r=t.shift();if(0===t.length?n[r]=e:n[r]=n[r]||{},t.length>0)return a(e,t,n[r])}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),h=r(c),v=n(3),p=(r(v),n(4)),d=r(p),m=n(5),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),f(t,[{key:"render",value:function(){var e=(this.props.className||"")+" x-form";return h.default.createElement("form",l({className:e},this.props))}}]),t}(c.Component);t.default=y,y.Item=d.default,y.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n={formData:{},formControl:{},validator:{},getFieldDecorator:function(e,n){var r=this,u=n.trigger||"onChange",v=n.validateTrigger||"onChange",p=this,d=this.formData;return function(y){var _=t?t+"."+e:e,b=function(t){function r(t){o(this,r);var s=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t)),a="undefined"==typeof n.value?"":n.value;return s.state={v:a,validateStatus:!0},s.setFormData(e,a),s}return s(r,t),f(r,[{key:"setFormData",value:function(e,t){var n=e.split(".");a(t,n,d)}}]),f(r,[{key:"componentDidMount",value:function(){var e=this;p.formControl[_].on("setValue",function(t){e.setState({v:t})}),p.formControl[_].on("validate",function(t){e.validate(e.state.v),t(p.validator[_])})}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;"undefined"==typeof t&&(t=""),e.value!=this.state.v&&this.setState({v:e.value})}},{key:"validate",value:function(e){var t=n.rules||[];e=String(e);for(var r=!0,o="",i=0,s=t.length;i<s;i++){var a=t[i];for(var u in a)switch(u){case"required":0===e.length&&(r=!1,o=a.message);break;case"minLength":e.length<a.minLength&&(r=!1,o=a.message);break;case"maxLength":e.length>a.maxLength&&(r=!1,o=a.message);break;case"min":e<a.min&&(r=!1,o=a.message);break;case"max":e>a.max&&(r=!1,o=a.message);break;case"pattern":var l=a.pattern;l.test(e)||(r=!1,o=a.message)}}r?(p.validator[_]={validateStatus:!0},this.setState({validateStatus:!0})):(p.validator[_]={validateStatus:!1,msg:o},this.setState({validateStatus:!1,msg:o}))}},{key:"render",value:function(){var t=this,n={value:this.state.v};this.setFormData(e,this.state.v);var r="",o="";this.state.validateStatus||(r="validate-error",o=this.state.msg),n.className=r,n.title=o,n[u]=function(n){y.props.hasOwnProperty(u)?y.props[u](n):null,t.setFormData(e,n),t.setState({v:n}),u===v&&t.validate(n)},"onChange"!==v&&(n[v]=function(e){t.validate(e)});var i=l({},this.props,n);return"undefined"!=typeof this.props.className&&"undefined"!=typeof n.className&&(i.className=this.props.className+" "+n.className),h.default.cloneElement(y,i)}}]),r}(c.Component);return r.formControl[_]=new m.EventEmitter,h.default.createElement(b,null)}},getFormData:function(){if(t){var e={};for(var n in this.formData)e[t+"."+n]=this.formData[n];return e}return this.formData},setFieldsValue:function(e){for(var t in e)this.formControl[t].emit("setValue",e[t])},validateFields:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};"function"==typeof t&&(n=t,t=[]);var r={},o=[];if(0==t.length){var i=function(t){o.push(new Promise(function(n){e.formControl[t].emit("validate",function(e){r[t]=e,n(r)})}))};for(var s in this.formControl)i(s)}else{var a=function(n){o.push(new Promise(function(o){e.formControl[t[n]].emit("validate",function(e){r[t[n]]=e,o(r)})}))};for(var s in t)a(s)}Promise.all(o).then(function(){var e=!0,t=[],o=[];for(var i in r)r[i]&&r[i].validateStatus===!1&&(e=!1,t.push(r[i].msg),o[i]=r[i]);n(o,e,t)})}};return n.getFieldDecorator=n.getFieldDecorator.bind(n),n.getFormData=n.getFormData.bind(n),n.setFieldsValue=n.setFieldsValue.bind(n),n.validateFields=n.validateFields.bind(n),function(e){return function(t){function r(e){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e))}return s(r,t),f(r,[{key:"render",value:function(){return h.default.createElement(e,l({},this.props,{form:n}))}}]),r}(c.Component)}}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){return f.default.createElement(f.default.Fragment,null,this.props.children)}}]),t}(l.Component);t.default=c},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),l=n.slice(),o=l.length,u=0;u<o;u++)l[u].apply(this,a);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}}])});